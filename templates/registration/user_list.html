{% extends "base.html"  %}
{% load util_filters %}

{% block titleInPage %} People (ordered by date) {% endblockÂ %}

{% block moreStyle %}

.user_row {
	border-bottom: 1px dotted #555;
	padding: 10px 0 10px 0;
	margin: 10px 0 0 0;
	text-align: left;
	width: 720px;
	overflow:hidden;
	float: left;
}

.user_row_icon {
	width: 50px;
	float: left;
}

.user_row_text {
	margin-left: 10px;
	width: 650px;
	float: left;
}

.user_row_date {
	font-style: italic;
	float: left;
	width: 650px;
}

.user_row_title {
	margin-bottom: 5px;
	padding: 0;
	float: left;
	width: 650px;
	font-weight: bold;
}

.user_row_username {
	font-weight: bold;
	float: left;
	width: 650px;
}

.user_row_desc {
	padding: 0;
	margin-bottom: 10px; 
	float: left;
	width: 650px;
}

.user_row_tags {
	float: left;
	width: 650px;
}

{% endblock %}



{% block content %}

	{# user_list.object_list is a Paginator object #}
	{% for user in user_list_page.object_list %}

	<div class="user_row">
		<div class="user_row_icon">
			<img src="{{ user.get_profile.get_gravatar_url }}" width="50" height="50" />
		</div>
		<div class="user_row_text">
			<div class="user_row_username">
				<a href="{{ user.get_profile.get_absolute_url }}">{{ user.username }}</a> ({{ user.get_profile.completed_projects_karma }})
			</div>
			<div class="user_row_date">Joined {{ user.date_joined|ago }}</div>
			<div class="user_row_desc">
				
				{% autoescape off %}{{ user.get_profile.description_html|striptags|truncatewords:30 }}{% endautoescape %}
			</div>
			<div class="user_row_tags">
			{% for t in user.get_profile.get_tags %}
				<a class="tag_link" href="/users/?tags={{ t }}">{{ t }}</a>
			{% endfor %}
			</div>
		</div>
	</div>

	{% endfor %}

	{% with user_list_page as paginator_page %}{% include "projects/pagination_snippet.html" %}{% endwith %}


{% endblock %}
