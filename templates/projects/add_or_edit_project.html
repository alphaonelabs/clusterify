{% extends "base.html"  %}

{% block title %}{% if is_editing %}Edit{% else %}Add{% endif %} project{% endblock %}
{% block titleInPage %}{% if is_editing %}Edit{% else %}Add{% endif %} project{% endblockÂ %}

{% block content %}
<form action="." method="POST">

{% for hidden in form.hidden_fields %}
{{ field }}
{% endfor %}

{% if form.non_field_errors %}
<div class="error">
<ul>
	{{ form.non_field_errors.as_ul }}
</ul></div>
{% endif %}

<div class="content_subtitle">Basic project information</div>

<table cellpadding="5" cellspacing="0" class="form_subtable">
	<tr class=" form_color_1">
		<td class="form_field_cell">Title
			<div class="form_help_text">Max 200 characters.</div>
			{% if form.title.errors %}
			<div class="error">{{ form.title.errors }}</div>
			{% endif %}
		</td>
		<td class="form_field_cell" align="right">{{ form.title }}</td>
	</tr>
	<tr class="form_color_2">
		<td class="form_field_cell">Estimated duration
			<div class="form_help_text">Integer, in hours for a team of 2-3 persons</div>
			{% if form.time_estimate.errors %}
			<div class="error">{{ form.time_estimate.errors }}</div>
			{% endif %}
		</td>
		<td class="form_field_cell" align="right">{{ form.time_estimate }}</td></td>
	</tr>
	<tr class="form_color_1">
		<td class="form_field_cell">Tags
			<div class="form_help_text">Alphanumeric, word junction by dash, separation by space</div>
			{% if form.tags.errors %}
			<div class="error">{{ form.tags.errors }}</div>
			{% endif %}
		</td>
		<td class="form_field_cell" align="right">{{ form.tags }}</td>
	</tr>
</table>

<script><!--
$(function(){
	$('#id_tags').autocomplete(
		{list: site_tags, 
		match: customTextMatch, 
		insertText: customTextInsertBinder($("#id_tags")),
		template: customTemplate});
});
//--></script>

<div class="content_subtitle">Project description</div>
<div class="content_subsubtitle">Max 5k characters. Use the Markdown syntax. Good summary <a href="http://crunchbang.org/wiki/formattingrules/">here</a>.
	{% if form.description.errors %}
	<div class="error">{{ form.description.errors }}</div>
	{% endif %}
</div>
{{ form.description }}

{% if project.p_completed %}
<div class="content_subtitle">Project showcase</div>
<div class="content_subsubtitle">Max 5k characters. Use the Markdown syntax. Good summary <a href="http://crunchbang.org/wiki/formattingrules/">here</a>.
	{% if form.showcase.errors %}
	<div class="error">{{ form.showcase.errors }}</div>
	{% endif %}
</div>
{{ form.showcase }}
{% endif %}

<div class="form_field_div form_color_1"><input type="submit" value="Submit" class="button_link" /></div>

</form>

{% endblock %}
